(function(e){function t(t){for(var a,i,r=t[0],l=t[1],c=t[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(a=!1)}a&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},i={6:0},o={6:0},s=[];function r(e){return l.p+"js/"+({1:"chunk-common"}[e]||e)+"."+{1:"b7c03a06",2:"f34625c2",3:"7fadcdd1",4:"263e0360",5:"4f11c95f",7:"9a803a16",8:"396f47d2",9:"6ab3d449",10:"9e23be87",11:"8240cf13",12:"9cfbd38b",13:"cb254818",14:"13c8af4c",15:"6163110e",16:"5fc070a7",17:"3b92e66c",18:"818167a1",19:"735559d2",20:"7b0ca88c",21:"c3691640",22:"b655ebb1",23:"d50d5cc0",24:"4d2ab7f0",25:"37317e74",26:"56f15ae5",27:"281eeb93",28:"4b6cb021",29:"f863da68",30:"239c6f24"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={1:1,2:1,3:1,4:1,5:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({1:"chunk-common"}[e]||e)+"."+{1:"6302fb33",2:"b6b06517",3:"0c6a3455",4:"4dd1a3cd",5:"c2d31ed8",7:"f3c62b59",8:"3ebfb224",9:"73af8899",10:"4267d51f",11:"4ae0702c",12:"b6b06517",13:"b6b06517",14:"b6b06517",15:"be1dfe5f",16:"0c1f6fde",17:"785ee199",18:"6cab5e9c",19:"31d6cfe0",20:"31d6cfe0",21:"31d6cfe0",22:"31d6cfe0",23:"31d6cfe0",24:"31d6cfe0",25:"31d6cfe0",26:"31d6cfe0",27:"31d6cfe0",28:"31d6cfe0",29:"31d6cfe0",30:"31d6cfe0"}[e]+".css",o=l.p+a,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var c=s[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===o))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===a||u===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete i[e],m.parentNode.removeChild(m),n(s)},m.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(m)})).then((function(){i[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",d.name="ChunkLoadError",d.type=a,d.request=i,n[1](d)}o[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=this["webpackJsonp"]=this["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=u;s.push([2,0]),n()})({"034f":function(e,t,n){"use strict";n("ed82")},2:function(e,t,n){e.exports=n("2f39")},"2f39":function(e,t,n){"use strict";n.r(t);var a=n("c973"),i=n.n(a),o=(n("96cf"),n("ac1f"),n("00b4"),n("e260"),n("d3b7"),n("e6cf"),n("3ca3"),n("ddb0"),n("5319"),n("35fc"),n("9f29"),n("573e"),n("43b9"),n("7d6e"),n("e54f"),n("4439"),n("4605"),n("f580"),n("5b2b"),n("8753"),n("2967"),n("7e67"),n("d770"),n("dd82"),n("922c"),n("d7fb"),n("a533"),n("c32e"),n("a151"),n("8bc7"),n("e80f"),n("5fec"),n("e42f"),n("57fc"),n("d67f"),n("880e"),n("1c10"),n("9482"),n("e797"),n("4848"),n("53d0"),n("63b1"),n("e9fd"),n("195c"),n("64e9"),n("33c5"),n("4f62"),n("0dbc"),n("7c38"),n("0756"),n("4953"),n("81db"),n("2e52"),n("22485"),n("7797"),n("12a1"),n("ce96"),n("70ca"),n("2318"),n("24bd"),n("8f27"),n("3064"),n("c9a2"),n("8767"),n("4a8e"),n("b828"),n("3c1c"),n("21cb"),n("c00e"),n("e4a8"),n("e4d3"),n("f4d9"),n("fffd"),n("f645"),n("639e"),n("34ee"),n("b794"),n("af24"),n("7c9c"),n("7bb2"),n("64f7"),n("c382"),n("053c"),n("c48f8"),n("f5d1"),n("3cec"),n("c00ee"),n("d450"),n("ca07"),n("14e3"),n("9393"),n("9227"),n("1dba"),n("674a"),n("de26"),n("6721"),n("9cb5"),n("ed9b"),n("fc83"),n("98e5"),n("605a"),n("ba60"),n("df07"),n("7903"),n("e046"),n("58af"),n("7713"),n("0571"),n("3e27"),n("6837"),n("3fc9"),n("0693"),n("bf41"),n("985d"),n("31cd"),n("b6d8"),n("2b0e")),s=n("34fe"),r=n("42d2"),l=n("b05d"),c=n("7f67"),u=n("4396"),d=n("714f"),m=n("9ed4"),b=n("f449"),f=n("75c3"),p=n("35e7"),h=n("12c5"),g=n("bbdf"),v=n("2eeb"),y=n("9748"),A=n("5dab"),k=n("9c64"),q=n("09f9"),T=n("2a19"),N=n("18d6"),w=n("f508"),S=n("1b3f"),D=n("515f"),O=n("696d"),P=n("b12a"),j=n("436b"),C=n("ff52");o["default"].use(l["a"],{config:{},lang:s["a"],iconSet:r["a"],directives:{ClosePopup:c["a"],Scroll:u["a"],Ripple:d["a"],Morph:m["a"],TouchHold:b["a"],TouchPan:f["a"],TouchRepeat:p["a"],TouchSwipe:h["a"],ScrollFire:g["a"],GoBack:v["a"],Intersection:y["a"]},plugins:{AppVisibility:A["a"],Meta:k["a"],Screen:q["a"],Notify:T["a"],LocalStorage:N["a"],Loading:w["a"],LoadingBar:S["a"],Cookies:D["a"],AddressbarColor:O["a"],AppFullscreen:P["a"],Dialog:j["a"],Dark:C["a"]}});var x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},L=[],I=n("ed09"),R=Object(I["d"])({name:"App"}),_=R,M=(n("034f"),n("2877")),E=Object(M["a"])(_,x,L,!1,null,null,null),U=E.exports,F=n("2f62"),V=n("4bde"),B=n("5494");class J extends B["a"]{constructor(e,t){super(e,t)}static instanceDefaults(){return{email:""}}}J.modelName="User";const G="users",$=Object(B["e"])({Model:J,service:B["c"].service(G),servicePath:G,whitelist:["$regex","$options"]});B["c"].service(G).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}});var Q=$,z=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};class H extends B["a"]{constructor(e,t){super(e,t)}static instanceDefaults(){return{}}}H.modelName="Table";const W="tables",Y=Object(B["e"])({Model:H,service:B["c"].service(W),servicePath:W,whitelist:["$regex","$options"],extend({store:e,module:t}){return{state:{table:[],actualites:[{_id:"",description:"test",rubriques:[],titre:"NOS ACTUALITES",type:"actualite"}]},getters:{listActus(e){return e.actualites[0]},getTableQuery(e){return e.table}},mutations:{setAllActus(e,t){console.log("Test setAllActus :",t),e.actualites=t},setTableQuery(e,t){let n=t[0],a=t[1],i=t[2];if(console.log(`Set Params : ${n},${a}`),Array.isArray(e.table)){let t=e.table.filter((e=>e.type==n&&e.table==a));0==t.length?e.table.push({type:n,name:a,datas:i}):e.table.map((e=>(e.type==n&&e.table==a&&(e.datas=i),e)))}}},actions:{getTableQuery(e,t){let n=t[0],a=t[1],i=t[2];console.log(`Params : ${n},${a},${i}`),B["c"].service(W).find({query:{tableDb:n,tableName:a,query:JSON.stringify({query:i})}}).then((t=>{console.log("Datas :",t),console.log("Query :",i);let o=[];o.push(n),o.push(a),o.push(t),console.log("payload :",o),e.commit("setTableQuery",o)}))},getTableById(e,t){return z(this,void 0,void 0,(function*(){let n=t[0],a=t[1],i=t[2],o=yield B["c"].service(W).find({query:{tableDb:a,tableName:i,query:JSON.stringify({query:{_id:n}})}}),s=[];s.push(a),s.push(i),s.push(o),console.log("payload :",s),e.commit("setTableQuery",s)}))},updateTableById(e,t){return z(this,void 0,void 0,(function*(){let n=t[0],a=t[1],i=t[2],o=t[3],s=yield B["c"].service(W).find({query:{tableDb:a,tableName:i,query:JSON.stringify({query:{_id:n}})}}),r=yield B["c"].service(W).update(s._id,o,{query:{tableDb:a,tableName:i}}),l=[];l.push(a),l.push(i),l.push(r),console.log("payload :",l),e.commit("setTableQuery",l)}))},createDataTable(e,t){return z(this,void 0,void 0,(function*(){let n=t[0],a=t[1],i=t[2],o=yield B["c"].service(W).create(i,{query:{tableDb:n,tableName:a}}),s=[];s.push(n),s.push(a),s.push(o),console.log("payload :",s),e.commit("setTableQuery",s)}))},getAllActus(e,t){B["c"].service(W).find({query:{tableDb:"mongodb",tableName:"dbHomeSections",query:JSON.stringify({query:{type:"actualite"}})}}).then((t=>{e.commit("setAllActus",t)}))},updateRubriqueActusById(e,t){return z(this,void 0,void 0,(function*(){let n=t[0],a=t[1],i=yield B["c"].service(W).find({query:{tableDb:"mongodb",tableName:"dbHomeSections",query:JSON.stringify({query:{type:"actualite"}})}});i[0].rubriques[n]=a,yield B["c"].service(W).update(i[0]._id,i[0],{query:{tableDb:"mongodb",tableName:"dbHomeSections"}}),e.commit("setAllActus",i)}))},addRubriqueActus(e,t){return z(this,void 0,void 0,(function*(){let n=t[0],a=yield B["c"].service(W).find({query:{tableDb:"mongodb",tableName:"dbHomeSections",query:JSON.stringify({query:{type:"actualite"}})}});console.log("Actualites :",a),a[0].rubriques.push(n),yield B["c"].service(W).update(a[0]._id,a[0],{query:{tableDb:"mongodb",tableName:"dbHomeSections"}}),e.commit("setAllActus",a)}))},delRubriqueActus(e,t){return z(this,void 0,void 0,(function*(){let n=t[0],a=yield B["c"].service(W).find({query:{tableDb:"mongodb",tableName:"dbHomeSections",query:JSON.stringify({query:{type:"actualite"}})}});console.log("Actualites :",a),a[0].rubriques.splice(n,1),yield B["c"].service(W).update(a[0]._id,a[0],{query:{tableDb:"mongodb",tableName:"dbHomeSections"}}),e.commit("setAllActus",a)}))}}}}});B["c"].service(W).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}});var Z=Y;class K extends B["a"]{constructor(e,t){super(e,t)}static instanceDefaults(){return{}}}K.modelName="ConfInfos";const X="conf-infos",ee=Object(B["e"])({Model:K,service:B["c"].service(X),servicePath:X,whitelist:["$regex","$options"]});B["c"].service(X).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}});var te=ee;class ne extends B["a"]{constructor(e,t){super(e,t)}static instanceDefaults(){return{}}}ne.modelName="CheckDbs";const ae="checkdbs",ie=Object(B["e"])({Model:ne,service:B["c"].service(ae),servicePath:ae,whitelist:["$regex","$options"]});B["c"].service(ae).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}});var oe=ie;class se extends B["a"]{constructor(e,t){super(e,t)}static instanceDefaults(){return{}}}se.modelName="Simtickets";const re="simtickets",le=Object(B["e"])({Model:se,service:B["c"].service(re),servicePath:re,whitelist:["$regex","$options"]});B["c"].service(re).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}});var ce=le;class ue extends B["a"]{constructor(e,t){super(e,t)}static instanceDefaults(){return{}}}ue.modelName="mjml";const de="Mjml",me=Object(B["e"])({Model:ue,service:B["c"].service(de),servicePath:de,whitelist:["$regex","$options"]});B["c"].service(de).hooks({before:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},after:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]},error:{all:[],find:[],get:[],create:[],update:[],patch:[],remove:[]}});var be=me,fe=n("bc3a"),pe=n.n(fe),he=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};const ge={getRole(e,t){return he(this,void 0,void 0,(function*(){let n=!1,a=[];console.log("User to get role",t);let i=(yield B["c"].service("conf-infos").find()).admGroups;if(console.log("Admins :",i),console.log("Est authentifié :",B["c"].authentication.authenticated),console.log("Est authentifié :",B["c"].authentication.storage),B["c"].authentication.authenticated){const t=yield B["c"].reAuthenticate();console.log("Auth infos :",t);let o=t.authentication.payload.user;console.log("Current user ",o),Object(o).hasOwnProperty("user")&&(o=o.user),a=o.memberOf&&Array.isArray(o.memberOf)?o.memberOf.map((e=>e.match(new RegExp(/(?<=CN=)(.*?)(?=\,)/,"gm"))[0])):o.memberOf.match(new RegExp(/(?<=CN=)(.*?)(?=\,)/,"gm")),console.log("User groupe :",a),e.commit("setUserGrpes",a),n=a.filter((e=>(Array.isArray(i)?i:["none"]).includes(e))).length>0}console.log("ROLES isAdmin :",n),e.commit("setRole",n)}))},getSiteRole(e){return he(this,void 0,void 0,(function*(){const t=(yield pe.a.get(window.location.origin+"/admins.json")).data;if(console.log("Est authentifié :",B["c"].authentication.authenticated),B["c"].authentication.authenticated){const n=yield B["c"].authentication.app.authenticate();console.log("Auth infos :",n.user.sAMAccountName),console.log("Utilisateurs admins :",t.admrdc);let a=n.user.sAMAccountName;e.commit("setSiteRole","invite"),t.admrdc.includes(a)&&(e.commit("setSiteAdmin",!0),console.log("ADMIN DU SITE  RDC"),e.commit("setSiteRole","admrdc")),t.admparking.includes(a)&&(e.commit("setSiteAdmin",!0),console.log("ADMIN DU SITE PARKING"),e.commit("setSiteRole","admparking"))}}))},getAllDatabases(e){return he(this,void 0,void 0,(function*(){const t=yield B["c"].service("checkdbs").find({query:{database:"databases"}});console.log("Toutes les bases :",t),e.commit("setAllDatabases",t)}))},getAllUsers(e){return he(this,void 0,void 0,(function*(){const t=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"ad-users",query:JSON.stringify({})}});console.log("Liste des utilisateurs :",t),e.commit("setAllUtilisateurs",t)}))},getTables(e,t){return he(this,void 0,void 0,(function*(){const n=yield B["c"].service("checkdbs").find({query:{todb:`${t}`}});console.log("Toutes les tables :",n),e.commit("setCurrentTables",n)}))},getTableDatas(e,...t){return he(this,void 0,void 0,(function*(){console.log("Arguments :",t),console.log("db :",t[0][0]),console.log("Table :",t[0][1]);const n=yield B["c"].service("tables").find({query:{tableDb:t[0][0],tableName:t[0][1],query:JSON.stringify({})}});console.log("Toutes les données :",n),e.commit("setCurrentTableDatas",n)}))}};var ve=ge;const ye={getRole(e){return e.isAdmin},getSiteRole(e){return e.siteRole},getDatabases(e){return e.bases},getCurrentTables(e){return e.currentTables}};var Ae=ye;const ke={setRole(e,t){console.log("Role :",t),e.isAdmin=t},setSiteAdmin(e,t){e.isSiteAdmin=t},setSiteRole(e,t){e.siteRole=t},setUserGrpes(e,t){e.userGrpes=t},setAllUtilisateurs(e,t){e.users=Object.assign([],t)},setAllDatabases(e,t){e.bases=Object.assign([],t)},setCurrentTables(e,t){e.currentTables=Object.assign([],t)},setCurrentDb(e,t){e.currentDb=t},setCurrentTableDatas(e,t){e.currentDatas=Object.assign([],t)}};var qe=ke;function Te(){return{bases:[],isAdmin:!1,currentDb:"",isSiteAdmin:!1,siteRole:"invite",currentTables:[],currentDatas:[],users:[],userGrpes:[]}}var Ne=Te;const we={namespaced:!0,state:Ne,getters:Ae,mutations:qe,actions:ve};var Se=we;function De(){return{title:"default title",config:{},leftMenu:!1,mailsend:!1,visiteurs:[],visiteursParking:[],utilisateurs:[],status:[],motifs:[],etages:[],contacts:[],pcs:[],ous:[],chgaccueils:[],savedform:{},getform:[],allForms:[],ftemplates:[],template:{},applinks:[]}}var Oe=De,Pe=n("1732"),je=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};const Ce={setTitle(e,t){e.commit("changeTitle",t)},getConfig(e){return je(this,void 0,void 0,(function*(){let t;console.log("Env :","production"),t=yield B["c"].service("json_www").get("config.json"),console.log("Config :",t),e.commit("setConfig",t)}))},writeConfig(e,t){return je(this,void 0,void 0,(function*(){let n;yield B["c"].service("json_www").create({path:"config.json",data:t}),console.log("Env :","production"),n=yield B["c"].service("json_www").get("config.json"),console.log("Config :",n),e.commit("setConfig",n)}))},toggleLeftDrawer(e){e.commit("changeLeftDrawer")},sendMail(e,t){return je(this,void 0,void 0,(function*(){let n=t.to,a=t.subject,i=t.message;const o={to:n,subject:a,html:`${i}`};console.log("Email :",o);let s=yield B["c"].service("mailer").create(o);s?e.commit("setMailSendEmail",!0):e.commit("setMailSendEmail",!1)}))},initDbFromArray(e,t){return je(this,void 0,void 0,(function*(){let e=t.datas,n=t.dbName,a=t.dbTable;Array.isArray(e)&&e.forEach((e=>je(this,void 0,void 0,(function*(){yield B["c"].service("tables").create(e,{query:{tableDb:n,tableName:a}})}))))}))},getAllUsers(e){return je(this,void 0,void 0,(function*(){let t;t=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"ad-users",query:JSON.stringify({})}}),console.log("Liste des utilisateurs :",t),e.commit("setAllUtilisateurs",t)}))},updateAllUsers(e){return je(this,void 0,void 0,(function*(){let t;t=yield B["c"].service("adUsers").find({}),console.log("Liste des utilisateurs :",t),e.commit("setAllUtilisateurs",t)}))},getAllPCs(e){return je(this,void 0,void 0,(function*(){let t;t=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"ad-pcs",query:JSON.stringify({})}}),console.log("Liste des pccs :",t),e.commit("setAllComputers",t)}))},updateAllPCs(e){return je(this,void 0,void 0,(function*(){let t;t=yield B["c"].service("adPCs").find({}),console.log("Liste des pccs :",t),e.commit("setAllComputers",t)}))},getAllOUs(e){return je(this,void 0,void 0,(function*(){let t;t=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"ad-ous",query:JSON.stringify({})}}),console.log("Liste des unites organisationnelles :",t),e.commit("setAllOUs",t)}))},updateAllOUs(e){return je(this,void 0,void 0,(function*(){let t;t=yield B["c"].service("adOUs").find({}),console.log("Liste des unites organisationnelles :",t),e.commit("setAllOUs",t)}))},saveForm(e,t){return je(this,void 0,void 0,(function*(){console.log("Sauvegarde nouveau formulaire :",t),Object(t).hasOwnProperty("uid")||(t.uid=Object(Pe["a"])());let n=yield B["c"].service("tables").create(t,{query:{tableDb:"cacemdb",tableName:"formulaires"}});console.log("Formulaire memorisé :",n),e.commit("setSavedForm",n);const a=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formulaires",query:JSON.stringify({})}});console.log("Liste des formulaires :",a),e.commit("setAllForms",a)}))},updateForm(e,t){return je(this,void 0,void 0,(function*(){console.log("Update nouveau formulaire :",t);const n=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formulaires",query:JSON.stringify({query:{uid:t.uid}})}});let a=yield B["c"].service("tables").update(n[0]._id,t,{query:{tableDb:"cacemdb",tableName:"formulaires"}});console.log("Formulaire maj :",a),e.commit("setSavedForm",a)}))},getForm(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formulaires",query:JSON.stringify({query:{uid:t}})}});console.log("Formulaire recupéré :",n),e.commit("setGetForm",n)}))},getFormByName(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formulaires",query:JSON.stringify({query:{nom:t}})}});console.log("Formulaire recupéré :",n),e.commit("setGetForm",n)}))},getAllForms(e){return je(this,void 0,void 0,(function*(){const t=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formulaires",query:JSON.stringify({})}});console.log("Liste des formulaires :",t),e.commit("setAllForms",t)}))},getTemplate(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formtemplates",query:JSON.stringify({query:{_id:t}})}});console.log(`Template avec   ${t} :`,n),n.length>0&&e.commit("setSelTemplate",n[0])}))},getTemplatesById(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").find({query:{tableDb:"cacemdb",tableName:"formtemplates",query:JSON.stringify({query:{uid:t}})}});console.log(`Liste des templates du formulaire ${t} :`,n),e.commit("setTemplates",n),n.length>0&&e.commit("setSelTemplate",n[0])}))},createTemplate(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").create(t,{query:{tableDb:"cacemdb",tableName:"formtemplates"}});console.log("Create template :",n),e.commit("setSelTemplate",n)}))},updateTemplate(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").update(t._id,t,{query:{tableDb:"cacemdb",tableName:"formtemplates"}});console.log("Update template :",n),e.commit("setSelTemplate",n)}))},getAllAppLinks(e){return je(this,void 0,void 0,(function*(){yield B["c"].service("tables").find({query:{tableDb:"db_support",tableName:"applinks",query:JSON.stringify({})}});const t=yield B["c"].service("tables").find({query:{tableDb:"db_support",tableName:"applinks",query:JSON.stringify({})}});console.log("Liste des liens apps :",t),e.commit("setAllAppLinks",t)}))},addAppLink(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").create(t,{query:{tableDb:"db_support",tableName:"applinks"}});console.log("Add appLink  :",n);const a=yield B["c"].service("tables").find({query:{tableDb:"db_support",tableName:"applinks",query:JSON.stringify({})}});console.log("Liste des liens apps :",a),e.commit("setAllAppLinks",a)}))},updateAppLink(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").update(t._id,t,{query:{tableDb:"db_support",tableName:"applinks"}});console.log("Add appLink  :",n);const a=yield B["c"].service("tables").find({query:{tableDb:"db_support",tableName:"applinks",query:JSON.stringify({})}});console.log("Liste des liens apps :",a),e.commit("setAllAppLinks",a)}))},getAllVisiteurs(e){return je(this,void 0,void 0,(function*(){const t=yield B["c"].service("tables").find({query:{tableDb:"db_regvisiteurs",tableName:"dbf_accueil",query:JSON.stringify({})}}),n=t.map((e=>Object(e).hasOwnProperty("etat")?Object.assign({},e):Object.assign(Object.assign({},e),{etat:""})));console.log("Liste des visiteurs :",n);const a=Object.assign([],n.filter((e=>"PARKING"==e.typeacces)));console.log("Liste des visiteurs parking :",a),e.commit("setAllVisiteurs",n),e.commit("setVisiteursParking",a)}))},addVisiteur(e,t){return je(this,void 0,void 0,(function*(){const n=yield B["c"].service("tables").create(t,{query:{tableDb:"db_regvisiteurs",tableName:"dbf_accueil"}});console.log("Add visiteur :",n);const a=yield B["c"].service("tables").find({query:{tableDb:"db_regvisiteurs",tableName:"dbf_accueil",query:JSON.stringify({query:{}})}});console.log("Liste des visiteurs :",a),e.commit("setAllVisiteurs",a)}))},addDatasForm(e,t){return je(this,void 0,void 0,(function*(){console.log("Infos à sauvegarder :",t);const n=yield B["c"].service("tables").create(t.fields,{query:{tableDb:t.dbname,tableName:t.tablename}});console.log("Add datas :",n),console.log("Infos sauvegardées :",n),e.commit("setSavedForm",n)}))},updateDatasForm(e,t){return je(this,void 0,void 0,(function*(){console.log("Infos à mettre jour :",t.fields);const e=yield B["c"].service("tables").find({query:{tableDb:t.dbname,tableName:t.tablename,query:JSON.stringify({query:{_id:t.fields._id}})}}),n=yield B["c"].service("tables").update(e[0]._id,t.fields,{query:{tableDb:t.dbname,tableName:t.tablename}});console.log("Update datas :",n)}))},deleteDatasForm(e,t){return je(this,void 0,void 0,(function*(){console.log("Id de suppression :",t.id);const e=yield B["c"].service("tables").remove(t.id,{query:{tableDb:t.dbname,tableName:t.tablename}});console.log("Delete datas :",e)}))}};var xe=Ce;const Le={getTitle(e){return e.title},getFormData(e){return e.getform}};var Ie=Le;const Re={changeTitle(e,t){e.title="Change title to "+t},setConfig(e,t){e.config=t},changeLeftDrawer(e,t){e.leftMenu=!e.leftMenu},setLeftDrawer(e,t){e.leftMenu=t},setMailSendEmail(e,t){e.mailsend=t},setAllVisiteurs(e,t){e.visiteurs=t},setVisiteursParking(e,t){e.visiteursParking=t},setAllUtilisateurs(e,t){e.utilisateurs=t},setAllComputers(e,t){e.pcs=t},setAllOUs(e,t){e.ous=t},setSavedForm(e,t){e.savedform=Object.assign({},t)},setGetForm(e,t){e.getform=Object.assign([],t)},setAllForms(e,t){e.allForms=t},setTemplates(e,t){e.ftemplates=Object.assign([],t)},setSelTemplate(e,t){e.template=Object.assign({},t)},setAllAppLinks(e,t){e.applinks=t}};var _e=Re;const Me={namespaced:!0,actions:xe,getters:Ie,mutations:_e,state:Oe};var Ee=Me;function Ue(){return{layoutNeeded:!0,isLoginPage:!1,mobileMode:!1,menuCollapse:!0,posts:[],database:"",query:"",queryresult:"",lastresult:"",tables:[{dbType:"",dbName:"",datas:""}]}}var Fe=Ue,Ve=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};const Be={createTable({commit:e},t){return Ve(this,void 0,void 0,(function*(){console.log("Feathers services",B["c"]),console.log("Feathers payload",t);let n=yield B["c"].service("tables").create(t.datas,{query:{tableDb:t.tableDb,tableName:t.tableName}});e("setLastResult",n);let a=yield B["c"].service("tables").find({query:{tableDb:t.tableDb,tableName:t.tableName,query:JSON.stringify({})}}),i={tableDb:t.tableDb,tableName:t.tableName,datas:a};e("setTable",i)}))},queryTable({commit:e},t){return Ve(this,void 0,void 0,(function*(){let n=yield B["c"].service("tables").find({query:{tableDb:t.tableDb,tableName:t.tableName,query:JSON.stringify({query:t.query})}});e("setQuery",t.query),e("setQueryResult",n)}))}};var Je=Be;const Ge={getTables(e){return e.tables},getLayoutNeeded(e){return e.layoutNeeded},getIsLoginPage(e){return e.isLoginPage},getMobileMode(e){return e.mobileMode},getMenuCollapse(e){return e.menuCollapse},getPosts(e){return e.posts}};var $e=Ge,Qe=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};const ze={setTable(e,t){return Qe(this,void 0,void 0,(function*(){console.log("Table type:",t.tableDb),console.log("Table Name:",t.tableName),console.log("Table Datas :",t.datas);const n=e.tables.find((e=>e.dbName==t.tableName));console.log("Table existe :",n),n?n.datas=t.datas:(console.log("Ajout de la table"),e.tables.push({dbType:t.tableDb,dbName:t.tableName,datas:t.datas}))}))},initTable(e,t){e.tables=t},setDatabase(e,t){e.database=t},setLastResult(e,t){e.lastresult=t},setQueryResult(e,t){e.queryresult=t},setQuery(e,t){e.query=t},setLayoutNeeded(e,t){e.layoutNeeded=t},setIsLoginPage(e,t){e.isLoginPage=t},setMobileMode(e,t){e.mobileMode=t},setMenuCollapse(e,t){e.menuCollapse=t},setPosts(e,t){e.posts=t}};var He=ze;const We={namespaced:!0,actions:Je,getters:$e,mutations:He,state:Fe};var Ye=We,Ze=Object(B["d"])({userService:"users"});function Ke(){return{users:[]}}var Xe=Ke,et=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};const tt={getUsers(e){return et(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Bearer 9232663-JbLRxOYVLtgHUFnvribV"},n=yield pe.a.get("https://webapi.teamviewer.com/api/v1/users?full_list=true",{headers:t});console.log("Utilisateurs teamviewer :",n.data.users),e.commit("changeUsers",n.data.users)}))}};var nt=tt;const at={getUsers(e){return e.users}};var it=at;const ot={changeUsers(e,t){e.users=t}};var st=ot;const rt={namespaced:!0,actions:nt,getters:it,mutations:st,state:Xe};var lt=rt;function ct(){return{users:[],tickets:[],openTickets:[],closedTickets:[],incidents:[],types:[],services:[],agents:[],categories:[]}}var ut=ct,dt=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};const mt={getSimplyUsers(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"},n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/CustomerManagement.svc/GetUsers?p=1&datemin=2020-01-01&datemax=2020-10-01",{headers:t});console.log("Utilisateurs simplydesk :",n.data),e.commit("changeUsers",n.data)}))},getSimplyIncidents(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"},n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetLinkedTicketCatgoriesByTicketTypeID?ticketTypeId=5f4cba96-6438-4afe-89a9-10b566125b30",{headers:t});console.log("Incidents simplydesk :",n.data),e.commit("changeIncidents",n.data)}))},getSimplyTickets(e,t){return dt(this,void 0,void 0,(function*(){console.log("Tickets simplydesk :",t);let n={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"};const a=yield pe.a.get(`http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetLinkedTicketCatgoriesByTicketTypeID?ticketTypeId=${t}`,{headers:n});console.log("Tickets simplydesk :",a.data),e.commit("changeTickets",a.data)}))},getSimplyOpenTickets(e){return dt(this,void 0,void 0,(function*(){const t=yield B["c"].service("simtickets").find({});e.commit("changeOpenTickets",t)}))},getSimplyClosedTickets(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"};const n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetClosedTickets?p=0&datemin=2020-01-01",{headers:t});console.log("Tickets clos simplydesk :",n.data),e.commit("changeClosedTickets",n.data)}))},getSimplyTypes(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"},n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetAllTicketTypes",{headers:t});console.log("Tickets Types simplydesk :",n.data),e.commit("changeTypes",n.data)}))},getSimplyServices(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"},n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetAllTeam",{headers:t});console.log("Services simplydesk :",n.data),e.commit("changeServices",n.data)}))},getSimplyAgents(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"},n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetAllHelpdeskAgents",{headers:t});console.log("Agents simplydesk :",n.data),e.commit("changeAgents",n.data)}))},getSimplyCategories(e){return dt(this,void 0,void 0,(function*(){let t={"Content-Type":"application/json",Authorization:"Basic aGRlY2hhdmlnbnk6ZEBuWmVsITc3"},n=yield pe.a.get("http://svrsimplydesk.agglo.local:4000/IncidentManagement.svc/GetAllTicketCategories",{headers:t});console.log("Categories simplydesk :",n.data),e.commit("changeCategories",n.data)}))}};var bt=mt;const ft={getUsers(e){return e.users}};var pt=ft;const ht={changeUsers(e,t){e.users=t},changeServices(e,t){e.services=t},changeAgents(e,t){e.agents=t},changeCategories(e,t){e.categories=t},changeTickets(e,t){e.tickets=t},changeOpenTickets(e,t){e.openTickets=t},changeClosedTickets(e,t){e.closedTickets=t},changeIncidents(e,t){e.incidents=t},changeTypes(e,t){e.types=t}};var gt=ht;const vt={namespaced:!0,actions:bt,getters:pt,mutations:gt,state:ut};var yt=vt,At=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))};o["default"].use(F["a"]),o["default"].use(B["b"]);var kt=Object(V["store"])((function({Vue:e}){return At(this,void 0,void 0,(function*(){e.use(F["a"]);const t=new F["a"].Store({modules:{vvstore:Ye,adinfos:Se,admin:Ee,teamviewer:lt,SimplyDesk:yt},plugins:[te,oe,ce,be,Q,Z,Ze],strict:!1/*!!process.env.DEBUGGING*/});try{let e=yield B["c"].reAuthenticate();console.log("ReAuthenticated :",e)}catch(s){}const n=yield B["c"].service("checkdbs").find({});console.log("Tables :",n),t.state.currentTables=n;const a=yield B["c"].service("checkdbs").find({query:{database:"database"}});t.state.selectDataBase=a;const i=yield B["c"].service("checkdbs").find({query:{database:"databases"}});console.log("Bases :",i),t.state.allDatabases=i;const o=[].map((e=>({dbType:"mongodb",dbName:e.name,datas:""})));return t.commit("vvstore/initTable",o),t.commit("vvstore/setDatabase",a),console.log("Database :",a),console.log("Store  = ",t),t}))})),qt=n("8c4f");const Tt=[{path:"/",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"98aa")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,"89ca")),meta:{requiresAuth:!0,title:"Page d'accueil"}},{path:"actus",component:()=>Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"f0bf")),meta:{requiresAuth:!0,title:"Page d'accueil"}},{path:"parking",component:()=>Promise.all([n.e(0),n.e(1),n.e(22)]).then(n.bind(null,"2594")),meta:{requiresAuth:!0,title:"Page d'accueil"}}]},{path:"/user",component:()=>Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,"3edf")),children:[{path:"regvisiteurs",component:()=>Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,"1e50")),meta:{requiresAuth:!0,title:"Page du profil"}},{path:"profil",component:()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"21bf")),meta:{requiresAuth:!0,title:"Page du profil"}},{path:"parking",component:()=>Promise.all([n.e(0),n.e(1),n.e(25)]).then(n.bind(null,"0c3f")),meta:{requiresAuth:!0,title:"Page Demande parking"}},{path:"resparking",component:()=>Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"b8fa")),meta:{requiresAuth:!0,title:"Page Réservations parking"}}]},{path:"/applications",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"9616")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(23)]).then(n.bind(null,"d8de")),meta:{requiresAuth:!0,title:"Nouveau visiteur"}}]},{path:"/formulaires",component:()=>Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,"f715")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(28)]).then(n.bind(null,"4524")),meta:{requiresAuth:!0,title:"Liste des formulaires"}}]},{path:"/admin",component:()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"9616")),children:[{path:"main",component:()=>Promise.all([n.e(0),n.e(1),n.e(24)]).then(n.bind(null,"0224")),meta:{requiresAuth:!0,title:"Administration des tables"}},{path:"imprimantes",component:()=>Promise.all([n.e(0),n.e(1),n.e(29)]).then(n.bind(null,"5c7c")),meta:{requiresAuth:!0,title:"Administration des Imprimantes"}}]},{path:"/padusers",component:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"f6b42")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(21)]).then(n.bind(null,"4ed9")),meta:{requiresAuth:!0,title:"Administration des utilisateurs"}}]},{path:"/nouveau",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"98aa")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(30)]).then(n.bind(null,"1ac4")),meta:{requiresAuth:!0,title:"Nouveau visiteur"}}]},{path:"/form/:id",component:()=>Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,"b604")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(16)]).then(n.bind(null,"211c")),meta:{requiresAuth:!0,title:"Nouveau visiteur"}}]},{path:"/login",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"98aa")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"013f"))}]},{path:"/emailbuilder/:id",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"5e9b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"428a")),meta:{requiresAuth:!0,title:"Createur de formulaires"}}]},{path:"/formbuilder/:id",component:()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"5e9b")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(27)]).then(n.bind(null,"1d0e")),meta:{requiresAuth:!0,title:"Createur de formulaires"}}]},{path:"/donnees",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"98aa")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(26)]).then(n.bind(null,"77bc")),meta:{requiresAuth:!0,title:"Données visiteur"}}]},{path:"/flipbook",component:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"98aa")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"1a60")),meta:{requiresAuth:!0,title:"Document à feuilleter"}}]},{path:"/gardien",component:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"6015")),children:[{path:"",component:()=>Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,"b8fa")),meta:{requiresAuth:!0,title:"Vue reservations parking"}}]},{path:"*",component:()=>Promise.all([n.e(0),n.e(19)]).then(n.bind(null,"e51e"))}];var Nt=Tt,wt=Object(V["route"])((function({Vue:e}){e.use(qt["a"]);const t=new qt["a"]({scrollBehavior:()=>({x:0,y:0}),routes:Nt,mode:"history",base:"/"});return t})),St=function(){return Dt.apply(this,arguments)};function Dt(){return Dt=i()(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof kt){e.next=6;break}return e.next=3,kt({Vue:o["default"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=kt;case 7:if(t=e.t0,"function"!==typeof wt){e.next=14;break}return e.next=11,wt({Vue:o["default"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=wt;case 15:return n=e.t1,t.$router=n,a={router:n,store:t,render:function(e){return e(U)}},a.el="#q-app",e.abrupt("return",{app:a,store:t,router:n});case 20:case"end":return e.stop()}}),e)}))),Dt.apply(this,arguments)}var Ot=n("9483");Object(Ot["a"])("/service-worker.js",{ready:function(){},registered:function(){},cached:function(){},updatefound:function(){},updated:function(){},offline:function(){},error:function(){}});var Pt=Object(V["boot"])((({Vue:e})=>{e.use(I["c"])})),jt=n("1232"),Ct=function(e,t,n,a){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function r(e){try{l(a["throw"](e))}catch(t){o(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,r)}l((a=a.apply(e,t||[])).next())}))},xt=Object(V["boot"])((({router:e,store:t})=>Ct(void 0,void 0,void 0,(function*(){e.beforeEach(((e,n,a)=>Ct(void 0,void 0,void 0,(function*(){S["a"].start(),console.log("Mode :","production");try{let e=yield t.dispatch("auth/authenticate");console.log("ReAuthenticated :",e),e.accessToken&&a()}catch(n){console.log("Echec ReAuthenticated !"),console.log("STorage navigateur :",B["c"].authentication)}if(console.log("Store :",t.state),console.log("STorage navigateur :",N["a"].getItem("feathers-jwt")),null!=N["a"].getItem("feathers-jwt")&&console.log("Decode jwt :",Object(jt["a"])(N["a"].getItem("feathers-jwt"))),Object(e).meta&&Object(e).meta.requiresAuth){console.log("Demande une authentification vers chemin:",e),t.state.auth.accessToken&&a();let i={data:""};try{if(!t.state.auth.user){console.log("Verification sso api :","https://webapps.agglo.local"),i=yield pe.a.get("https://webapps.agglo.local/auth/sso",{withCredentials:!0}),console.log("Presso infos :",i);let e=yield t.dispatch("auth/authenticate",{strategy:"sso2",data:i.data});console.log("Authenticated :",e)}}catch(n){j["a"].create({title:"Echec - Vérification SSO.",message:"Erreur d'authentification automatique !"}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{})),t.state.auth.user?a():a("/login")}null!=t.state.auth.user?(T["a"].create({message:"Vous avez été identifié avec succès.",color:"positive"}),console.log("Utilisateur authentifié"),yield t.dispatch("adinfos/getRole",t.state.auth.user),console.log("User groupes :",t.state.adinfos.userGrpes),console.log("Vers :",e.path),S["a"]&&S["a"].stop(),a()):(j["a"].create({title:"Echec - Vérification SSO.",message:"Erreur d'authentification automatique !"}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{})),"/login"!==e.path&&a("/login"),S["a"]&&S["a"].stop())}else j["a"].create({title:"Echec - Vérification SSO.",message:"Erreur d'authentification automatique !"}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{})),a(),S["a"]&&S["a"].stop()})))),e.afterEach((e=>{S["a"].stop()}))})))),Lt=Object(V["boot"])((({Vue:e})=>{e.prototype.$axios=pe.a})),It=n("1321"),Rt=n.n(It);o["default"].component("apexchart",Rt.a);var _t=n("349e"),Mt=n.n(_t),Et=n("e0d6"),Ut=n.n(Et);o["default"].use(Mt.a),o["default"].use(Ut.a);var Ft=n("9ce1");/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(0).then(n.t.bind(null,"a0db",7));var Vt="/";function Bt(){return Jt.apply(this,arguments)}function Jt(){return Jt=i()(regeneratorRuntime.mark((function e(){var t,n,a,i,s,r,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,St();case 2:t=e.sent,n=t.app,a=t.store,i=t.router,s=!1,r=function(e){s=!0;var t=Object(e)===e?i.resolve(e).route.fullPath:e;window.location.href=t},l=window.location.href.replace(window.location.origin,""),c=[Pt,B["c"],xt,Lt,void 0,void 0,Ft["default"]],u=0;case 11:if(!(!1===s&&u<c.length)){e.next=29;break}if("function"===typeof c[u]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,c[u]({app:n,router:i,store:a,Vue:o["default"],ssrContext:null,redirect:r,urlPath:l,publicPath:Vt});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:u++,e.next=11;break;case 29:if(!0!==s){e.next=31;break}return e.abrupt("return");case 31:new o["default"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),Jt.apply(this,arguments)}Bt()},3:function(e,t){},"31cd":function(e,t,n){},5494:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var a=n("b462"),i=n.n(a),o=n("4059"),s=n.n(o),r=n("8af1"),l=n.n(r),c=n("8055"),u=n.n(c),d=n("6bd9"),m=n("9e62f"),b=n("2b0e");const f=i()();if("undefined"!==typeof window){console.log("Web origin :",window.location.origin),console.log("DEV env :","production");const e=u()("https://webapps.agglo.local",{transports:["websocket"],rejectUnauthorized:!1});f.configure(s()(e,{timeout:22e4})).configure(l()({storage:window.localStorage})).hooks({before:{all:[Object(d["iff"])((e=>["create","update","patch"].includes(e.method)),Object(d["discard"])("__id","__isTemp"))]}})}else{const e=u()("https://webapps.agglo.local",{transports:["websocket"]});f.configure(s()(e)),f.configure(l()({header:"Authorization",path:"/api/authentication",jwtStrategy:"jwt",storageKey:"feathers-jwt"}))}b["default"].prototype.$feathersClient=f,t["c"]=f;const{makeServicePlugin:p,makeAuthPlugin:h,BaseModel:g,models:v,FeathersVuex:y}=Object(m["a"])(f,{serverAlias:"api",idField:"_id",whitelist:["$regex","$options"]})},ed82:function(e,t,n){}});
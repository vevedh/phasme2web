(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([[7],{"0a16":function(e,t,a){},"31d8":function(e,t,a){"use strict";a("af8a")},"3edf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"hHh LpR fFf"}},[r("div",{class:e.$q.dark.isActive?"dark_gradient":"normal_gradient",attrs:{id:"particles-js"}}),r("q-header",{staticClass:"text-white q-py-md",attrs:{id:"hbarre",elevated:""}},[r("q-toolbar",[r("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),r("q-avatar",{staticClass:"absolute",staticStyle:{top:"0",right:"15px",transform:"translateY(-75px)"},attrs:{rounded:"",size:"200px"}},[r("div",{staticClass:"q-pa-sm"},[r("img",{attrs:{src:a("056e")}})])]),r("q-toolbar-title",[e._v("\n          Mon Tableau de Bord Agent CACEM\n          "),e.showDev?r("span",[e._v("*** DEVELOPPEMENT***")]):e._e()])],1)],1),r("q-drawer",{attrs:{"show-if-above":"",mini:!e.left||e.miniState,width:300,breakpoint:400,"content-class":"bg-grey-3",side:"left",unelevated:""},on:{"!click":function(t){return e.drawerClick.apply(null,arguments)}},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[r("div",{staticClass:"row",attrs:{id:"profile"}},[r("div",{staticClass:"col-3 q-pa-none"},[r("q-avatar",{staticClass:"inline-block q-pa-none",attrs:{icon:e.currentAvatar,size:"65px"}})],1),e.miniState?e._e():r("div",{staticClass:"col-9 q-gutter-sm q-pt-xs"},[r("div",{staticClass:"row q-gutter-xs"},[r("span",{staticClass:"text-white"},[e._v(" "+e._s(e.displayName)+" ")]),r("br"),r("span",{staticClass:"text-white"},[e._v(" "+e._s(e.email)+" ")])]),r("div",{staticClass:"row q-gutter-sm q-pt-sm q-pl-none"},[r("div",{staticClass:"text-white"},[e._v(e._s(e.siteRole))]),r("q-space"),e.isAdmin?r("q-btn",{staticClass:"bordered bg-blue small",attrs:{dense:"",icon:"person",color:"white"}}):e._e(),e.isAdmin?r("q-btn",{staticClass:"bordered bg-blue small",attrs:{dense:"",icon:"lock",color:"white"}}):e._e(),r("q-btn",{staticClass:"bordered bg-blue small",attrs:{dense:"",icon:"home",color:"white",to:"/"}})],1)])]),r("q-list",{attrs:{separator:"",color:"bg-grey-4"}},[r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/user/profil"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"person"}})],1),r("q-item-section",[e._v(" Profil utilisateur ")])],1),r("q-item",{directives:[{name:"show",rawName:"v-show",value:e.allowRegistre,expression:"allowRegistre"},{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/user/regvisiteurs"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"supervised_user_circle"}})],1),r("q-item-section",[e._v(" Registre Visiteurs ")])],1),r("q-item",{directives:[{name:"show",rawName:"v-show",value:e.allowParking,expression:"allowParking"},{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/parking"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"supervised_user_circle"}})],1),r("q-item-section",[e._v(" Registre Parking ")])],1),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/user/parking"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"directions_car_filled"}})],1),r("q-item-section",[e._v(" Demande Parking ")])],1),e.isAdmin||"admparking"==e.siteRole?r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/user/resparking"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"emoji_transportation"}})],1),r("q-item-section",[e._v(" Réservations Parking ")])],1):e._e(),e.isAdmin?r("q-expansion-item",{attrs:{"expand-separator":"",icon:"settings",label:"Options..."}},[r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/formulaires"}},[r("q-item-section",{staticClass:"q-pl-md",attrs:{avatar:""}},[r("q-icon",{attrs:{name:"feed"}})],1),r("q-item-section",[e._v(" Formulaires... ")])],1),r("q-card",{staticClass:"my-card"},[r("q-card-section",{staticClass:"q-pa-none"},[r("q-list",{attrs:{bordered:"",separator:""}},[e.isAdmin?r("q-expansion-item",{staticClass:"q-pl-md",attrs:{dense:"","expand-separator":"",icon:"palette",label:"Couleur de fond",caption:"Change la couleur de fond"}},[r("q-card",[r("q-card-section",[r("q-color",{staticClass:"my-picker",on:{change:e.changeBgright},model:{value:e.col_bgright,callback:function(t){e.col_bgright=t},expression:"col_bgright"}})],1),r("q-card-actions",[r("q-btn",{staticClass:"text-white",attrs:{color:"primary"},on:{click:e.saveSettings}},[e._v("Mémoriser")])],1)],1)],1):e._e(),e.isAdmin?r("q-expansion-item",{staticClass:"q-pl-md",attrs:{dense:"","expand-separator":"",icon:"palette",label:"Couleur Barre du Haut",caption:"Change la couleur de la barre du haut"}},[r("q-card",[r("q-card-section",[r("q-color",{staticClass:"my-picker",on:{change:e.changeHbarre},model:{value:e.col_hbarre,callback:function(t){e.col_hbarre=t},expression:"col_hbarre"}})],1)],1)],1):e._e(),e.isAdmin?r("q-expansion-item",{staticClass:"q-pl-md",attrs:{dense:"","expand-separator":"",icon:"palette",label:"Couleur du fond profile",caption:"Change la couleur de la zone utilisateur"}},[r("q-card",[r("q-card-section",[r("q-color",{staticClass:"my-picker",on:{change:e.changeProfile},model:{value:e.col_profile,callback:function(t){e.col_profile=t},expression:"col_profile"}})],1)],1)],1):e._e()],1)],1)],1)],1):e._e()],1),r("div",{staticClass:"q-mini-drawer-hide absolute no-shadow",staticStyle:{top:"10px",right:"-17px"}},[r("q-btn",{attrs:{dense:"",round:"",size:"14px",color:"primary",icon:"chevron_left"},on:{click:function(t){e.miniState=!0}}})],1),r("div",{staticClass:"fixed-bottom text-center text-italic",staticStyle:{width:"100%"}},[e._v("\n        Réalisé par la DSI\n      ")])],1),r("q-page-container",{staticClass:"flex flex-top justify-center items-start"},[r("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",appear:"",duration:300}},[r("router-view")],1)],1)],1)},i=[],n=a("c973"),s=a.n(n),o=a("ded3"),c=a.n(o),l=(a("96cf"),a("ac1f"),a("1276"),a("caad"),a("2532"),a("2f62")),u=a("ed09"),d=a("cf57"),p=a("bc78"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list no-border platform-delimiter light-paragraph"},[e._l(e.links,(function(t,r){return[a("div",{staticClass:"text-h6 text-bold q-px-xs bg-blue-2 cursor-pointer",on:{click:function(e){t.show=!t.show}}},[e._v(e._s(e.replaceUnderlineToSpace(r)))]),e._l(t.routes,(function(r){return[a("transition",{attrs:{name:"menu"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"parent.show"}]},[a("router-link",{staticClass:"item item-link drawer-closer cursor-pointer",attrs:{to:r.route,exact:"",tag:"div"}},[a("span",[a("q-icon",{attrs:{name:r.faIcon}}),a("div",{staticClass:"item-content"},[e._v(e._s(r.name))])],1)])],1)])]}))]})),a("div",{staticClass:"list-label cursor-pointer"},[e._v("Quasar Ready UI")]),e._m(0)],2)},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"item item-link drawer-closer cursor-pointer text-black",attrs:{href:"http://quasar-framework.org/quasar-play/android/index.html#/showcase",target:"_blank"}},[a("i",{staticClass:"fa fa-puzzle-piece item-primary"}),a("div",{staticClass:"item-content"},[e._v("Components (55+)")])])}],h=(a("4160"),a("d3b7"),a("159b"),a("b64b"),a("c975"),a("5319"),{props:["links"],watch:{"$route.path":function(){var e=this;Object.keys(this.links).forEach((function(t){e.setParentVisibilityBasedOnRoute(e.links[t])}))}},computed:{currentRoutePath:function(){return this.$route.path}},methods:{setParentVisibilityBasedOnRoute:function(e){var t=this;e.routes.forEach((function(a){t.$route.path!==a.route||(e.show=!0)}))},replaceUnderlineToSpace:function(e){while(-1!==e.indexOf("_"))e=e.replace("_"," ");return e}}}),g=h,b=(a("31d8"),a("2877")),_=a("0016"),v=a("eebe"),w=a.n(v),q=Object(b["a"])(g,m,f,!1,null,"7c8ba327",null),k=q.exports;w()(q,"components",{QIcon:_["a"]});var C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list no-border platform-delimiter light-paragraph"},[e._l(e.links,(function(t,r){return[a("div",{staticClass:"list-label "},[e._v(e._s(e.replaceUnderlineToSpace(r)))]),e._l(t.routes,(function(t){return[a("q-drawer-link",{attrs:{icon:t.materialIcon,to:{path:t.route,exact:!0}}},[e._v("\n        "+e._s(t.name)+"\n      ")])]}))]})),a("div",{staticClass:"list-label cursor-pointer"},[e._v("Quasar Ready UI")]),e._m(0)],2)},x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"item item-link drawer-closer cursor-pointer text-black",attrs:{href:"http://quasar-framework.org/quasar-play/android/index.html#/showcase",target:"_blank"}},[a("i",{staticClass:"fa fa-puzzle-piece item-primary"}),a("div",{staticClass:"item-content"},[e._v("Components (55+)")])])}],y={props:["links"],methods:{replaceUnderlineToSpace:function(e){while(-1!==e.indexOf("_"))e=e.replace("_"," ");return e}}},R=y,A=(a("4aae"),a("9404")),I=Object(b["a"])(R,C,x,!1,null,"6272634b",null),O=I.exports;w()(I,"components",{QDrawer:A["a"]});var S=Object(u["d"])({components:{menuOne:k,menuTwo:O},data:function(){"Dimanche_Lundi_Mardi_Mercredi_Jeudi_Vendredi_Samedi".split("_"),"Dim_Lun_Mar_Mer_Jeu_Ven_Sam".split("_"),"Janvier_Février_Mars_Avril_Mai_Juin_Juillet_Aôut_Septembre_Octobre_Novembre_Décembre".split("_"),"Jan_Fév_Mar_Avr_Mai_Jun_Jui_Aou_Sep_Oct_Nov_Déc".split("_");return{left:!1,miniState:!1,showParticules:!0,col_bgright:"",col_profile:"",col_hbarre:"",photo:"",userId:"",user:{},links:{Formulaires:{routes:[{route:"/",faIcon:"fa fa-home",materialIcon:"home",name:"Registre"}],show:!0},Vues:{routes:[{route:"/form",faIcon:"fa fa-search",materialIcon:"search",name:"Form find / edit"},{route:"/embeeded",faIcon:"fa fa-check",materialIcon:"check",name:"Embeeded validations"},{route:"/advanced-form-one",faIcon:"fa fa-hdd-o",materialIcon:"filter_1",name:"Adv. Form One"}],show:!1},Pages:{routes:[{route:"/login-one",faIcon:"fa fa-unlock-alt",materialIcon:"lock_open",name:"Login One"},{route:"/pricing",faIcon:"fa fa-money",materialIcon:"attach_money",name:"Pricing"},{route:"/drag-and-drop",faIcon:"fa fa-arrows",materialIcon:"move_to_inbox",name:"Drag and Drop"},{route:"/server-side-data-table",faIcon:"fa fa-list-alt",materialIcon:"list_compact",name:"Server Side Data Table"}],show:!1}}}},computed:c()(c()(c()(c()(c()(c()({},Object(l["d"])("admin",{fconfig:function(e){return e.config}})),Object(l["c"])("vvstore",["getLayoutNeeded","getMenuCollapse"])),Object(l["d"])("adinfos",{isAdmin:function(e){return e.isAdmin},isSiteAdmin:function(e){return e.isSiteAdmin},grpUser:function(e){return e.userGrpes},siteRole:function(e){return e.siteRole}})),Object(l["d"])("admin",{formData:function(e){return e.getform},fconfig:function(e){return e.config},visiteurs:function(e){return e.visiteurs}})),Object(l["d"])("auth",{currentUsername:function(e){return e.user.displayName}})),{},{allowRegistre:function(){return!!this.grpUser&&this.grpUser.includes("Application WEB REGISTRE")},allowParking:function(){return!!this.grpUser&&this.grpUser.includes("WebApps - ADM PARKING")},displayName:function(){return this.currentUsername},email:function(){return this.$store.state.auth.user.mail?this.$store.state.auth.user.mail:null},othersMenu:function(){return this.plusMenu},currentAvatar:function(){return this.$store.state.auth.user.img64?"img:data:image/jpeg;base64,"+this.$store.state.auth.user.img64:"account_box"},showDev:function(){return!1}}),methods:c()(c()(c()({changeBgright:function(){p["a"].setBrand("bgright",this.col_bgright)},changeHbarre:function(){p["a"].setBrand("hbarre",this.col_hbarre)},changeProfile:function(){p["a"].setBrand("profile",this.col_profile)},saveSettings:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.writeConfig({bgright:""!=e.col_bgright?e.col_bgright:e.fconfig.bgright,profile:""!=e.col_profile?e.col_profile:e.fconfig.profile,hbarre:""!=e.col_hbarre?e.col_hbarre:e.fconfig.hbarre});case 2:case"end":return t.stop()}}),t)})))()}},Object(l["b"])("adinfos",["getRole"])),Object(l["b"])("admin",["getForm","saveForm","updateForm","getAllForms","getConfig","writeConfig"])),{},{drawerClick:function(e){this.miniState&&(this.miniState=!1)},exitApp:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/logout").then((function(){console.log("Vous avez été deconnecté",e.$store.state.auth),e.$router.push("/login")}));case 2:case"end":return t.stop()}}),t)})))()}}),beforeMount:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("adinfos/getRole",e.$store.state.auth.user);case 2:return t.next=4,e.getConfig();case 4:Object(e.fconfig).hasOwnProperty("bgright")&&p["a"].setBrand("bgright",e.fconfig.bgright),Object(e.fconfig).hasOwnProperty("profile")&&p["a"].setBrand("profile",e.fconfig.profile),Object(e.fconfig).hasOwnProperty("hbarre")&&p["a"].setBrand("hbarre",e.fconfig.hbarre);case 7:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return s()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$q.loading.show({spinner:d["a"],spinnerColor:"red",message:"Chargement en cours..."}),console.log("Auth user:",e.$store.state.auth.user),t.next=4,e.$store.dispatch("adinfos/getRole",e.$store.state.auth.user);case 4:return t.next=6,e.$store.dispatch("adinfos/getSiteRole");case 6:return t.next=8,e.getAllForms();case 8:e.$q.loading.hide(),console.log("Formulaires autorisés :",e.allForms),e.showParticules&&particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:20,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"grab"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1});case 11:case"end":return t.stop()}}),t)})))()}}),$=S,P=(a("ef68"),a("4d5a")),Q=a("e359"),j=a("65c6"),E=a("9c40"),M=a("cb32"),N=a("6ac5"),D=a("2c91"),B=a("1c1c"),F=a("66e5"),z=a("4074"),T=a("3b73"),U=a("f09f"),J=a("a370"),L=a("b498"),V=a("4b7e"),H=a("09e3"),G=a("7460"),W=a("714f"),Y=Object(b["a"])($,r,i,!1,null,null,null);t["default"]=Y.exports;w()(Y,"components",{QLayout:P["a"],QHeader:Q["a"],QToolbar:j["a"],QBtn:E["a"],QAvatar:M["a"],QToolbarTitle:N["a"],QDrawer:A["a"],QSpace:D["a"],QList:B["a"],QItem:F["a"],QItemSection:z["a"],QIcon:_["a"],QExpansionItem:T["a"],QCard:U["a"],QCardSection:J["a"],QColor:L["a"],QCardActions:V["a"],QPageContainer:H["a"],QTab:G["a"]}),w()(Y,"directives",{Ripple:W["a"]})},"4aae":function(e,t,a){"use strict";a("0a16")},"62a7":function(e,t,a){},af8a:function(e,t,a){},ef68:function(e,t,a){"use strict";a("62a7")}}]);
(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([[9],{"013f":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"fit row justify-center "},[s("div",{staticClass:"column justify-center self-center q-pb-xl q-px-md",staticStyle:{width:"400px"}},[s("div",{staticClass:"row justify-center self-center rounded-borders q-pb-md",staticStyle:{width:"200px"}},[s("q-img",{staticClass:"rounded-borders",attrs:{src:e.url,"spinner-color":"white"}})],1),s("q-card",{staticClass:"my-card",attrs:{bordered:""}},[s("q-card-section",{staticClass:"text-center bg-primary text-white text-h5 q-py-xs",staticStyle:{width:"100%"}},[e._v("\n        Identification\n      ")]),s("q-separator"),s("q-card-section",{staticClass:"q-pb-none"},[s("q-form",{staticClass:"q-px-xl "},[s("q-input",{attrs:{filled:"","bottom-slots":"",label:"*Utilisateur :",dense:e.dense,"lazy-rules":"",rules:[function(e){return e&&e.length>0||"Utilisateur du domaine obligatoire!"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("q-input",{attrs:{filled:"","bottom-slots":"",type:"password",label:"Mot de passe :",dense:e.dense},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),s("q-card-actions",{staticClass:"row items-center justify-center q-mt-md q-pt-none"},[s("div",{attrs:{hidden:!e.loading}},[s("div",{staticClass:"col items-center justify-center"},[s("div",[s("q-spinner",{attrs:{color:"primary",size:"3em",thickness:10}})],1),s("div",{staticClass:"text-h6"},[e._v("Vérifications en cours...")])])])]),s("q-card-actions",{staticClass:"row items-center justify-center q-mt-md q-pt-none"},[s("div",{staticClass:"q-gutter-xl"},[s("q-btn",{attrs:{color:"primary",icon:"lock","text-color":"white",label:"Connexion",disable:""==e.email||""==e.password},on:{click:function(t){return e.onSubmit(e.email,e.password)}}})],1)])],1)],1)])},i=[],n=(s("5319"),s("2f62")),r={name:"LoginPage",data(){return{email:"",password:"",url:"cacem.png",error:"",dense:!0,showParticules:!0,loading:!1}},computed:{...Object(n["d"])("auth",["isAuthenticated","user"]),async checkIsAuthenticated(){console.log("Init");let e=await this.$store.dispatch("auth/authenticate").catch((e=>{console.log("Non authentifié!")}));if(console.log("Auth :",e),e.user)try{this.$router.replace("/")}catch(t){}}},mounted(){this.showParticules&&particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:20,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!1,mode:"grab"},onclick:{enable:!1,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1})},methods:{onSubmit(e,t){console.log("Click"),this.loading=!0,this.$store.dispatch("auth/authenticate",{strategy:"ldap",username:e,password:t}).then((e=>{console.log("Result :",e),this.loading=!1,this.$router.replace("/")})).catch((e=>{this.loading=!1,console.log("Erreur fatale :",e),this.error=e,this.alert(this.error)}))},alert(e){this.$q.dialog({title:"Erreur d'authentification !!",message:"authentification impossible pour l'instant"}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},onRegister(e,t){this.$router.push("/login/register")}}},o=r,c=(s("50ba"),s("2877")),l=s("9989"),d=s("068f"),u=s("f09f"),p=s("a370"),h=s("eb85"),m=s("0378"),f=s("27f9"),b=s("4b7e"),g=s("0d59"),y=s("9c40"),w=s("eebe"),q=s.n(w),v=Object(c["a"])(o,a,i,!1,null,null,null);t["default"]=v.exports;q()(v,"components",{QPage:l["a"],QImg:d["a"],QCard:u["a"],QCardSection:p["a"],QSeparator:h["a"],QForm:m["a"],QInput:f["a"],QCardActions:b["a"],QSpinner:g["a"],QBtn:y["a"]})},"50ba":function(e,t,s){"use strict";s("fe3c")},fe3c:function(e,t,s){}}]);